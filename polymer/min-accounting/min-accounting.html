<link rel="import" href="../bower_components/polymer-localstorage/polymer-localstorage.html">
<link rel="import" href="../bower_components/polymer-flex-layout/polymer-flex-layout.html">
<link rel="import" href="../bower_components/polymer-layout/polymer-layout.html">
<link rel="import" href="../bower_components/polymer-file/polymer-file.html">
<link rel="import" href="../bower_components/core-menu/core-menu.html">
<link rel="import" href="../bower_components/core-menu/core-submenu.html">
<link rel="import" href="../bower_components/core-item/core-item.html">
<link rel="import" href="../bower_components/core-drawer-panel/core-drawer-panel.html">
<link rel="import" href="model.html">

<polymer-element name="min-accounting">
    <template>
        <style>
            .accounts {
                /*width: 300px;*/
                /*height: 100%;*/
                background-color: #fffec5;
            }

            #drawer {
                background-color: #eee;
            }

            .header {
                background-color: green;
            }

            .content {
                background-color: yellow;
            }
        </style>
        <polymer-localstorage id="dataStore" name="foobar" value="{{commands}}"></polymer-localstorage>
        <min-accounting-model id="model"></min-accounting-model>
        <polymer-file id="file" readas="string" on-polymer-result="{{handleFileData}}"></polymer-file>

        <!--<button on-click="{{printData}}">Print data</button>-->

        <core-drawer-panel>
            <div drawer id="drawer">
                <core-menu selected="0" selectedItem="{{selectedAccount}}">
                    <template repeat="{{accountType in model.accountTypes}}">
                        <core-submenu label="{{accountType}}">
                            <template repeat="{{account in model.accounts[accountType]}}">
                                <core-item label="{{account}}"></core-item>
                            </template>
                        </core-submenu>
                    </template>
                </core-menu>
            </div>
            <div main>
                {{selectedAccount.label}}
            </div>
        </core-drawer-panel>
    </template>
    <script src="min-accounting.js"></script>
</polymer-element>